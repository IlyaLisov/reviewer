<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Редактирование отзыва - Reviewer</title>
    <link rel="shortcut icon" th:href="@{/favicon.ico}" type="image/x-icon">
</head>
<body>
<div class=container>
    <div th:insert="blocks/header :: header"></div>
    <div class="content">
        <h1>Редактирование отзыва</h1>
        <p><a th:href="@{/entity/{id}(id=${entity.id})}" th:text="'Перейти к учреждению образования'"></a></p>
        <div th:if="${success != null}" class="alert alert-dismissible alert-success">
            <p th:text="${success}"></p>
        </div>
        <div th:if="${error != null}" class="alert alert-dismissible alert-secondary">
            <p th:text="${error}"></p>
        </div>
        <form method="post" th:action="@{/entity/{id}/edit/{reviewId}(id=${entity.id}, reviewId=${review.id})}">
            <fieldset>
                <div class="form-group">
                    <label for="text" class="form-label mt-4">Ваш отзыв (не более 1024 символов):</label>
                    <textarea class="form-control" id="text" name="text"
                              th:text="${review.text}" maxlength="1024"></textarea>
                </div>
                <div class="form-group">
                    <label for="role" class="form-label mt-4">От лица кого Вы оставляете отзыв:</label>
                    <select class="form-select" id="role" name="role">
                        <option th:each="role : ${roles}" th:text="${role.name}" th:value="${role}"
                                th:selected="${role eq review.getAuthorRole()}"></option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="mark" class="form-label mt-4">Ваша оценка:</label>
                    <select class="form-select" id="mark" name="mark">
                        <option th:selected="${review.mark eq 5}" value="5">5</option>
                        <option th:selected="${review.mark eq 4}" value="4">4</option>
                        <option th:selected="${review.mark eq 3}" value="3">3</option>
                        <option th:selected="${review.mark eq 2}" value="2">2</option>
                        <option th:selected="${review.mark eq 1}" value="1">1</option>
                    </select>
                </div>
            </fieldset>
            <br>
            <button type="submit" class="btn btn-primary">Изменить</button>
        </form>
    </div>
    <div th:insert="blocks/footer :: footer"></div>
</div>
</body>
</html>